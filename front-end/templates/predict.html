{% extends "base.html" %}

{% block title %}Predict - Maternal Risk{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-3">Maternal Risk Prediction</h2>
    <p>Enter the required values to predict maternal health risk.</p>

    {% if result is not none %}
        <div class="alert alert-info" role="alert">
            <h4 class="alert-heading">Prediction Result:</h4>
            <p class="fw-bold">{{ result }}</p>
        </div>
    {% endif %}

    <div id="loading" style="display: none;" class="text-center">
        <p class="text-primary">Predicting... Please wait.</p>
        <div class="spinner-border text-primary" role="status"></div>
    </div>

    <form id="predictForm" action="{{ url_for('predict') }}" method="post" class="p-4 bg-white shadow rounded">
        <div class="mb-3">
            <label for="age" class="form-label">Age:</label>
            <input type="number" name="age" id="age" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="systolic_bp" class="form-label">Systolic Blood Pressure:</label>
            <input type="number" name="systolic_bp" id="systolic_bp" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="diastolic_bp" class="form-label">Diastolic Blood Pressure:</label>
            <input type="number" name="diastolic_bp" id="diastolic_bp" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="blood_sugar" class="form-label">Blood Sugar Level:</label>
            <input type="number" name="blood_sugar" id="blood_sugar" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="body_temp" class="form-label">Body Temperature (Â°C):</label>
            <input type="number" step="0.1" name="body_temp" id="body_temp" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="heart_rate" class="form-label">Heart Rate (bpm):</label>
            <input type="number" name="heart_rate" id="heart_rate" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary w-100" onclick="showLoading()">Predict</button>
    </form>

    <div class="text-center mt-3">
        <a href="{{ url_for('home') }}" class="btn btn-secondary">Back to Home</a>
    </div>
</div>

<script>
    function showLoading() {
        document.getElementById('loading').style.display = 'block';
        document.getElementById('predictForm').style.display = 'none';
    }
</script>

{% endblock %}
